---
# apiVersion: batch/v1
# kind: Job
# metadata:
#   annotations:
#     argocd.argoproj.io/compare-options: IgnoreExtraneous
#     argocd.argoproj.io/hook: PreSync
#     argocd.argoproj.io/sync-wave: "-1"
#   name: restore-pvc-kuma
#   namespace: velero
# spec:
#   template:
#     spec:
#       restartPolicy: OnFailure
#       containers:
#       - name: pvc-kuma
#         image: velero/velero:latest
#         imagePullPolicy: IfNotPresent
#         command:
#         - /velero
#         - restore
#         - create
#         - --from-backup
#         - backup-pvc-kuma-20240903201008
#         - --restore-volumes
#         - "true"

apiVersion: velero.io/v1
kind: Restore
metadata:
  annotations:
    argocd.argoproj.io/compare-options: IgnoreExtraneous
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/sync-wave: "-2"
  name: pvc-kuma-restore
  namespace: velero
spec:
  backupName: backup-pvc-kuma-20240903201008
  includedResources:
  - persistentvolumeclaims
  restorePVs: true
