---
apiVersion: longhorn.io/v1beta2
kind: BackingImage
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "1"
  name: pvc-kuma
  namespace: longhorn-system
# spec:
#   sourceType: restore
#   sourceParameters:
#     backup-url: s3://k3s-longhorn-backup@us-east-1/?backingImage=pvc-kuma
#     concurrent-limit: '2'
#   checksum: ""
#   minNumberOfCopies: 1

spec:
  sourceType: export-from-volume
  sourceParameters:
    volume-name: pvc-kuma
    export-type: qcow2
  minNumberOfCopies: 1

  diskSelector:
    - data
    - fast

  nodeSelector:
    - fast
    - storage