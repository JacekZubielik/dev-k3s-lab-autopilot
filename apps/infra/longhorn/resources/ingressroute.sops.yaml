apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    annotations:
        argocd.argoproj.io/sync-wave: "3"
        cert-manager.io/cluster-issuer: letsencrypt-production
        cert-manager.io/common-name: longhorn.storage.anotherlife.org.pl
        external-dns.alpha.kubernetes.io/hostname: ENC[AES256_GCM,data:Uk1VDP/kiIvcikbHmTW955j73DKYOnEfr+XxTvIrhyJayuQ=,iv:bYvQz1KQGGnjJtL713QVebcZS8HJwwuIlKGdTzW25+I=,tag:iFqKOQ2sDhoomCACltoKkw==,type:str]
        external-dns.alpha.kubernetes.io/target: ENC[AES256_GCM,data:WJ1UqXRl2u3R8JtuQv5pTGucqbu8V6hK400=,iv:SlJ6RE7gSPQGPdw9aprrBt4VRFOcx0qM/y7JtuLpIOg=,tag:f4wyvPbCu6QJKjMYD+SSOg==,type:str]
        external-dns.alpha.kubernetes.io/ttl: "300"
        kubernetes.io/ingress.class: traefik-external
    name: longhorn-frontend
    namespace: longhorn-system
spec:
    entryPoints:
        - websecure
    routes:
        - kind: Rule
          match: ENC[AES256_GCM,data:JyeYI5RqZa3cJf++YGJ/MMzoLq6EcGTKNh0jrNcQk+QAVxPJ4XAAWnkzew==,iv:4KQrHTp+mKvD0jfrd2QY85S8kn8OjkGWxYyxUkTjtDE=,tag:HbvPAV1eGBeDskT/jm5u7Q==,type:str]
          middlewares:
            - name: longhorn-dashboard
              namespace: traefik
          services:
            - kind: TraefikService
              name: longhorn-frontend
              namespace: longhorn-system
    tls:
        domains:
            - main: ENC[AES256_GCM,data:O20EXwZuEC1dNjJDidA+SuDs3+AZIHmcdhs=,iv:djMGjO4sUsUsEQ3+y5JGROXepuB4Dp5f/uMQWjEy+Lo=,tag:4f5BaofBFFSoWxGKmbxErA==,type:str]
              sans:
                - ENC[AES256_GCM,data:+6e9tyzelB0wb0A+xTrqE1qj357WeVhXDB/Y,iv:sxK4MtIQs6Zvy8eQ5avAZbD3mtXiPT5cR1WYLe/aLCo=,tag:dbH/0ZY2gzIRD1uVSjWUaQ==,type:str]
        options:
            name: tls-ver13
            namespace: traefik
        secretName: longhorn-cf-production
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1deg9tqt7jtddnqme6nvcl72czns80z0n25u8k9pw5830dn4arsks5pua4h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMkw2cUM3NFdBNDYzQ0dY
            L1Jsb1o2MmlHazJjU0Q1TXFzbmpONVB0eDA0ClN5TnB5SHNYa29VYlRJQWppenhu
            VFczOXl4WEVSbzhpOWF0MU9lUXhlUEEKLS0tIExnZlBodkpaeWhHR3ZYSDEzMEJL
            TUZvVHVzQVZNVVpVUnNFN3RKYjVhSE0K1ft4WYdE2PWYm16HUvuOFsZr8Kctm2sc
            fhvBJGijjRw/VW2y6yLNU1o72KO8rsMY5Ir8Pr4+fY94M58JV/Wu8g==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-02T20:05:18Z"
    mac: ENC[AES256_GCM,data:Jgu8E9r8NyJcIQOEFRjMqbNF16mgArd9rxV79vHNy9Be82nS49AMG2Hr/gOTA8FR2m/NbKKi7eD/gPyRHCQVSJciD9GCRi961j6lOFRXxwUkdSiYZqmADV3B7Q+mcCQz+Ma3x3zicVeFDndDidfpaXQwWsAX97MS6Ib4OPY2bdA=,iv:/hV2c4st24/IhT/zC4rT1Iy5PjZH5esTXiEK4AP77yM=,tag:KYHRJ+ZXcjwRdr53aBBZww==,type:str]
    pgp:
        - created_at: "2024-10-02T20:05:18Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA0R6oz1GmNjVARAAiYcTzsFCSIg3GtA5ajbPb03nw0IcmjZmwZ1MzzYMK0dt
            GTBuj7wUijYOIjn0UYBvmab8dSUrUOExMVYpVmli4jQwRAo/AIO1wIms0b9vCXMA
            ivjZ911G/SWXNUb1wmdb+MTNqS9ndVbE+oc1hgTxPBTG97XnWAynd8dIEEvftvAz
            Uixmh2LB8WanN5xXSdW5kE325lhktBdYx+SdPqxeYTVuUK9a6ezQMyheHj71PhHq
            2UjaFve7aUANWGuDmomXX2B3yOJNAa38TLNYAPa/M5hSDuCh4d3PWGjcf5aKiCIS
            NoIY4hrQoSmpd4gxX7//jeDvF/mykTiCiuX1mpAK+p0SWEu/nxzvSPPqCw+tfJIH
            h331xRqhFcsVovrT9PtiZR7t9XQlXOvKF/M5ixvngIXg5TD1w22IIiSf8Tc57Bn9
            E3qKBzbsvk5UHdTatY2RT42JfbsvtF+UPuis/P2INH8uXNi4OKhV79W16aMm/ibL
            bDVkocGkqr+ra6VV/33IWy/lbuu+0KI5SE7+Z+u6ILYXBBKsWmmfmHdTm4X5vfQ/
            /2DRzRUwTVLxYccAsVQF77Y76/vYma1JEyqCYZdW0J6QLaJZSQFqCfQMeUahVoSK
            WiEQQuplytZTVhaOUBAxLe61VHFZCpTRP+Yyko0nEGHdMqudphX1F34cuwJOrRzS
            XgFT/I4vGcq72N7OH7yO2zLR4N7JcfaH1zA+aJmSYY1Mhlfrje9+5KLqVmDfsnfa
            /oUWlEQUiHf9Uz/MnXCcW1dvC6oXPlpHu8ioHlF4fE4ECjekqe5vWsBSGgQ4lpI=
            =Kqb8
            -----END PGP MESSAGE-----
          fp: 6D3FE55384B558E06A1BA364586EFA784A32C981
    encrypted_regex: ^(externalName|external-dns.alpha.kubernetes.io/hostname|sans|main|match|external-dns.alpha.kubernetes.io/target|dnsNames|commonName|data|stringData|dnsNames|email|accessKeyID|region|hostedZoneID|role|dnsZones)$
    version: 3.9.0
---
apiVersion: traefik.io/v1alpha1
kind: TraefikService
metadata:
    annotations:
        argocd.argoproj.io/sync-wave: "2"
    name: longhorn-frontend
    namespace: longhorn-system
spec:
    weighted:
        services:
            - name: longhorn-frontend
              port: 80
              weight: 1
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1deg9tqt7jtddnqme6nvcl72czns80z0n25u8k9pw5830dn4arsks5pua4h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBWMkw2cUM3NFdBNDYzQ0dY
            L1Jsb1o2MmlHazJjU0Q1TXFzbmpONVB0eDA0ClN5TnB5SHNYa29VYlRJQWppenhu
            VFczOXl4WEVSbzhpOWF0MU9lUXhlUEEKLS0tIExnZlBodkpaeWhHR3ZYSDEzMEJL
            TUZvVHVzQVZNVVpVUnNFN3RKYjVhSE0K1ft4WYdE2PWYm16HUvuOFsZr8Kctm2sc
            fhvBJGijjRw/VW2y6yLNU1o72KO8rsMY5Ir8Pr4+fY94M58JV/Wu8g==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-02T20:05:18Z"
    mac: ENC[AES256_GCM,data:Jgu8E9r8NyJcIQOEFRjMqbNF16mgArd9rxV79vHNy9Be82nS49AMG2Hr/gOTA8FR2m/NbKKi7eD/gPyRHCQVSJciD9GCRi961j6lOFRXxwUkdSiYZqmADV3B7Q+mcCQz+Ma3x3zicVeFDndDidfpaXQwWsAX97MS6Ib4OPY2bdA=,iv:/hV2c4st24/IhT/zC4rT1Iy5PjZH5esTXiEK4AP77yM=,tag:KYHRJ+ZXcjwRdr53aBBZww==,type:str]
    pgp:
        - created_at: "2024-10-02T20:05:18Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA0R6oz1GmNjVARAAiYcTzsFCSIg3GtA5ajbPb03nw0IcmjZmwZ1MzzYMK0dt
            GTBuj7wUijYOIjn0UYBvmab8dSUrUOExMVYpVmli4jQwRAo/AIO1wIms0b9vCXMA
            ivjZ911G/SWXNUb1wmdb+MTNqS9ndVbE+oc1hgTxPBTG97XnWAynd8dIEEvftvAz
            Uixmh2LB8WanN5xXSdW5kE325lhktBdYx+SdPqxeYTVuUK9a6ezQMyheHj71PhHq
            2UjaFve7aUANWGuDmomXX2B3yOJNAa38TLNYAPa/M5hSDuCh4d3PWGjcf5aKiCIS
            NoIY4hrQoSmpd4gxX7//jeDvF/mykTiCiuX1mpAK+p0SWEu/nxzvSPPqCw+tfJIH
            h331xRqhFcsVovrT9PtiZR7t9XQlXOvKF/M5ixvngIXg5TD1w22IIiSf8Tc57Bn9
            E3qKBzbsvk5UHdTatY2RT42JfbsvtF+UPuis/P2INH8uXNi4OKhV79W16aMm/ibL
            bDVkocGkqr+ra6VV/33IWy/lbuu+0KI5SE7+Z+u6ILYXBBKsWmmfmHdTm4X5vfQ/
            /2DRzRUwTVLxYccAsVQF77Y76/vYma1JEyqCYZdW0J6QLaJZSQFqCfQMeUahVoSK
            WiEQQuplytZTVhaOUBAxLe61VHFZCpTRP+Yyko0nEGHdMqudphX1F34cuwJOrRzS
            XgFT/I4vGcq72N7OH7yO2zLR4N7JcfaH1zA+aJmSYY1Mhlfrje9+5KLqVmDfsnfa
            /oUWlEQUiHf9Uz/MnXCcW1dvC6oXPlpHu8ioHlF4fE4ECjekqe5vWsBSGgQ4lpI=
            =Kqb8
            -----END PGP MESSAGE-----
          fp: 6D3FE55384B558E06A1BA364586EFA784A32C981
    encrypted_regex: ^(externalName|external-dns.alpha.kubernetes.io/hostname|sans|main|match|external-dns.alpha.kubernetes.io/target|dnsNames|commonName|data|stringData|dnsNames|email|accessKeyID|region|hostedZoneID|role|dnsZones)$
    version: 3.9.0
