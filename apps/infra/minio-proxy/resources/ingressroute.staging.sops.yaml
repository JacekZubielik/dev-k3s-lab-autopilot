apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
    annotations:
        argocd.argoproj.io/sync-wave: "3"
        cert-manager.io/cluster-issuer: letsencrypt-staging
        cert-manager.io/common-name: ENC[AES256_GCM,data:moaw1VCAtkomd0rq4Ql4tf3UINxQ5zcep3SZTAU=,iv:ZMHpk6p2usekh9ArqKHlXL/EY7eCbwBzsi4alZPMH+Q=,tag:Kif4ve/WuplHUkWKbd2bVw==,type:str]
        external-dns.alpha.kubernetes.io/hostname: ENC[AES256_GCM,data:n65gRY+uZJtFsQzNBj88Ayzc+wZ51R8E7w/chLGbbnPqabRypQ==,iv:z0yNYZKXO4qSZunTfSjM6w1Ga3D0kmUyROgS1RiFohY=,tag:gfTyHdQdSchxwoZfVXvMvg==,type:str]
        external-dns.alpha.kubernetes.io/target: ENC[AES256_GCM,data:gJK/Ozne5oSd7PrTyIhrxU5FsRsU0JbUw1/Sp7s=,iv:m71vD4xyaAsLfc8fFtnuKBs2BMO4wd6z7yiV0mX5/0E=,tag:2OGYpxlLj6s/hIh9Zh5Jcg==,type:str]
        external-dns.alpha.kubernetes.io/ttl: "300"
        kubernetes.io/ingress.class: traefik-external
    name: minio-console-staging
    namespace: traefik
spec:
    entryPoints:
        - websecure
    routes:
        - kind: Rule
          match: ENC[AES256_GCM,data:SUInFEEnokzebJcD207Hz5m3f8wKEd3vmQm0W/Yl42zPIdGLyzc+8vbllVqTJaZbsHc/vCiLFB/NV44DUgh/fnx1,iv:on0wlJWRt+wqSF6sCqf6j/XghxGx2h/+1DdGROpHP9E=,tag:fdYVNIeIMxL9eBXT5Pmlpg==,type:str]
          middlewares:
            - name: chain-traefik-dashboard
              namespace: traefik
          services:
            - name: minio-console
              port: 9001
              scheme: https
              passHostHeader: true
    tls:
        domains:
            - main: ENC[AES256_GCM,data:jWt/pxbqpVoRXEpDRAfgyYVMeUqQfZjUrMK+XhA=,iv:sK3yJqx6iaUMSTXP6fCwLeSP9rSrOLVvyr4rBtl2ECU=,tag:XtbnPHrvDLdl8ba8WB3OWg==,type:str]
              sans:
                - ENC[AES256_GCM,data:O9CuC+VsBoWPQX6XYAAJc3kGG6Fiv7rYCMmUC8JA,iv:ZEVZPg8aCmHFA8ZTwRBmRar8z6l+wirA/QpHZqQdrTM=,tag:NVQkEIcuUxocvuBKOGMKGA==,type:str]
        options:
            name: tls-ver13
            namespace: traefik
        secretName: minio-console-cf-staging
# apiVersion: traefik.io/v1alpha1
# kind: IngressRoute
# metadata:
#     annotations:
#         argocd.argoproj.io/sync-wave: "3"
#         cert-manager.io/cluster-issuer: letsencrypt-staging
#         cert-manager.io/common-name: s3.storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/hostname: s3.storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/target: storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/ttl: "300"
#         kubernetes.io/ingress.class: traefik-external
#     name: s3-staging
#     namespace: traefik
# spec:
#     entryPoints:
#         - websecure
#     routes:
#         - kind: Rule
#           match: Host(`s3.storage.anotherlife.org.pl`)
#           services:
#             - name: minio-proxy
#               port: 9000
#               scheme: https
#               #   passHostHeader: true
#         - kind: Rule
#           match: Host(`console.s3.storage.anotherlife.org.pl`) && (PathPrefix(`/`))
#           middlewares:
#             - name: chain-traefik-dashboard
#               namespace: traefik
#           services:
#             - name: minio-proxy
#               port: 9001
#               scheme: https
#               passHostHeader: true
#     tls:
#         domains:
#             - main: storage.anotherlife.org.pl
#               sans:
#                 - .storage.anotherlife.org.pl
#         options:
#             name: tls-ver13
#             namespace: traefik
#         secretName: minio-console-cf-staging
# apiVersion: traefik.io/v1alpha1
# kind: IngressRoute
# metadata:
#     annotations:
#         argocd.argoproj.io/sync-wave: "3"
#         cert-manager.io/cluster-issuer: letsencrypt-staging
#         cert-manager.io/common-name: s3.storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/hostname: s3.storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/target: storage.anotherlife.org.pl
#         external-dns.alpha.kubernetes.io/ttl: "300"
#         kubernetes.io/ingress.class: traefik-external
#     name: s3-staging
#     namespace: traefik
# spec:
#     entryPoints:
#         - websecure
#     routes:
#         - kind: Rule
#           match: Host(`s3.storage.anotherlife.org.pl`)
#           services:
#             - name: minio-proxy
#               port: 9000
#               scheme: https
#               #   passHostHeader: true
#         - kind: Rule
#           match: Host(`console.s3.storage.anotherlife.org.pl`) && (PathPrefix(`/`))
#           middlewares:
#             - name: chain-traefik-dashboard
#               namespace: traefik
#           services:
#             - name: minio-proxy
#               port: 9001
#               scheme: https
#               passHostHeader: true
#     tls:
#         domains:
#             - main: storage.anotherlife.org.pl
#               sans:
#                 - .storage.anotherlife.org.pl
#         options:
#             name: tls-ver13
#             namespace: traefik
#         secretName: s3-cf-staging
# ---
# apiVersion: traefik.io/v1alpha1
# kind: TraefikService
# metadata:
#     annotations:
#         argocd.argoproj.io/sync-wave: "2"
#     name: s3
# spec:
#     weighted:
#         services:
#             - name: minio
#               port: 9000
#               weight: 1
# ---
# apiVersion: traefik.io/v1alpha1
# kind: TraefikService
# metadata:
#     annotations:
#         argocd.argoproj.io/sync-wave: "2"
#     name: minio-console
# spec:
#     weighted:
#         services:
#             - name: minio-console
#               port: 9001
#               weight: 1
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1deg9tqt7jtddnqme6nvcl72czns80z0n25u8k9pw5830dn4arsks5pua4h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBvUGh3QjZGU1U4OVVoMGNE
            ekFqV0lJSjdNYnpnM0c3RDFocnNIdU5iMEdBCmRPbnlqeUZLSEpNM3RETFY3bFdq
            dHJQVmZmNmNYM0h5aDUyZmdkYmQ5OEkKLS0tICt4dGNxVjQycGF4N3ozWVhYWHdI
            a3B5SHBpbXlZNmlaRENLdkFZUFlVclEKKOjSR8z9czQkBZqQyFdfb7mQL+BmGimE
            wLhS/k5VdTnyxwOMprjU9Vrq5TPbBpqqp6mmNoj2ecoVj0+G1Vw0DA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-10-01T22:13:06Z"
    mac: ENC[AES256_GCM,data:ZOPHrcQF1iwcaRn5M6SJmbqwOspTjyC6jvjLJOGpUlKnuHi+eMUwO93aZEUBJc0xwClGDrCqajxSysbC0Hsfmv6ezcyBY4TJWtF17L8KXjIbs51MXVLDS9MDlo8K6UT4oJm0+dZVthKwV49c/2WBTWSC+sjReL5AjliGWdZuENU=,iv:0sy0m6Z0f1QNY94wFJFGN0cJM1icYP3Sg0l8Z3BU+44=,tag:ywmjzAM49YzYbk9KLU/GPg==,type:str]
    pgp:
        - created_at: "2024-10-01T22:13:06Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQIMA0R6oz1GmNjVAQ//ZSHhjpr6HSMC5dGPq4WCswfklGibEzDL2cf7/wb1fzJr
            DdOiKuVo/rfyJ+dOEtrKONMwLWgMA+PN26o0Yea0GgmCg/XGBTsMtcqHpBFGOGJ1
            LWBu04NaVn2QEJ/aOVExmvLPB6voEpDtfbi4XhAXtZ7w8vdAFs6ME2K/5s0a/MOR
            wdkk5OpTZqTwzZkBUfvD2MYMB845eA2DuIUb5S77spftLw74KqavmSQdHEJcZZES
            81PF4PbnupxQH8Gb9FeoceitoKJWO7GmobIZD/AorG2HkXgSZRa3Jn000nJJbrge
            8MmZbMCa/Vj0HR+9thFiSIglLVgruZOcjBNNI16lpZzjMKMJrVFAjHEviQkT4umA
            dS7uiN3vEU2ADxuQUn4qHDyso87/mTd4QJ+aj4KK85FL44+djpKjpkrqtmASsEhH
            F7+ejaDAdkZezvFIy5ARQT8whVYfVsXOSMnelUSNGpu7IPR2ToKqblyzlLsb7k/S
            em8mDeXwkxCsZ1wJGKVFl8MddBdFIgE8aPgm9KV/42pbbzqv4FoNWO3dOY0BBIN7
            q8BJ5Fz78rFnPezN+iVuTMD4cNwGv1kb/+HzyCQ3pps7zcxNLPk6yMj92o8ffZ1L
            Npxbvw3lsHnY1Wf/jByrKF+Vtx8NMumQDarxGGJdzRz6Q9YwHOxFZmwcmSAgLjXS
            XgFXIeDkEKvU6mB1PdYC/+sI7v5GlW7gmLwcN+9DXiCuCQNQKhb0e4MrcFCAxgJY
            1PcF+RzQs0GwyGsCxMo+qIp4Gi626fsoLNEEUESH9wXXH6Awl4fthNuphBWgVfs=
            =s2gZ
            -----END PGP MESSAGE-----
          fp: 6D3FE55384B558E06A1BA364586EFA784A32C981
    encrypted_regex: ^(data|stringData|dnsNames|email|accessKeyID|region|hostedZoneID|role|dnsZones|cert-manager.io/common-name|external-dns.alpha.kubernetes.io/hostname|external-dns.alpha.kubernetes.io/target|match|main|sans)$
    version: 3.9.0
