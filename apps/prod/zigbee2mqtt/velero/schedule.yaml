---
apiVersion: velero.io/v1
kind: Schedule
metadata:
  annotations:
    argocd.argoproj.io/compare-options: IgnoreExtraneous
    argocd.argoproj.io/hook: PostSync
    argocd.argoproj.io/sync-wave: "2"
    argocd.argoproj.io/sync-options: Delete=false,Prune=false
  name: backup-pvc-zigbee2mqtt-data
  namespace: velero
spec:
  schedule: '0 * * * *'
  template:
    csiSnapshotTimeout: 10m
    hooks: {}
    includeClusterResources: false
    snapshotMoveData: true
    snapshotVolumes: true
    storageLocation: minio
    includedNamespaces:
    - zigbee2mqtt
    includedResources:
    - persistentvolumeclaims
    labelSelector:
      matchLabels:
        backup: "pvc-zigbee2mqtt-data"
    excludedNamespaces:
    - default
    - kube-system
    - minio
    - velero
    uploaderConfig:
        parallelFilesUpload: 10
    metadata:
      labels:
        type: 'full'
        schedule: 'hourly'
    ttl: 720h0m0s
